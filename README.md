# What is RID-Tools?
It's a collection of tools used in a certain way to modify to some extent the pre and post build behavior of Unity for 3ds, mainly by applying patches to the .cci file generated using this tool.
It can be used primarily to change the system mode on both Old and New 3DS, allowing access to all system capabilities, not just the limited capabilities of the platform.

The main uses are:

- Force system mode on Old 3DS to avoid crashes due to lack of memory (only the 80MB mode has been fully tested)

- Change CPU speed on New 3DS

- Force memory mode on New 3DS

- Generate a random title ID for your game

- Automatically generate a CIA file (that doesn't require changing the encryption) with or without patches when building from the .cci file generated by Unity

## How does it work?

RID-Tools uses several community-made tools to disassemble a .cci file, obtain its permissions, modify them, and repackage everything into a ready-to-use .cia file.

- RID-Api and RID-SmallDB: a small REST API I made myself to record and display title IDs of community-made games (not necessarily Unity games), using a non-relational MongoDB database.

- [ctrtool](https://github.com/3DSGuy/Project_CTR): a tool to read/extract Nintendo 3DS files. 
	>Used to extract EXEFs, ROMFS, and exheader.bin from a .cci.

- rsfgen3.exe: a refactoring of the Python 2 script [rsfgen.py](https://github.com/ihaveamac/3DS-rom-tools/blob/master/rsfgen/rsfgen.py) to Python 3. It was made with AI and surprisingly works well, so it stayed that way. Packaged into an .exe using pyinstaller. 
	> To obtain the original RSF generated by Unity from the .cci ROM and the exheader.bin

- Line-by-line reading of the generated RSF file and direct modification according to the line index. This is done in Unity, without using any external tools.

- [3dstool](https://github.com/dnasdw/3dstool): An all-in-one tool for extracting/creating 3DS ROMs. 
	> Used to rebuild the ROMFS from a folder to a binary file (romfs.bin).

- [makerom](https://github.com/3DSGuy/Project_CTR): Creates CTR cxi/cfa/cci/cia files.
	>Used to rebuild the game's .cxi executable from the RSF and, from that, build a functional .cia file on the console.

- [3dsconv](https://github.com/ihaveamac/3dsconv).exe: is a Python 3 script that converts Nintendo 3DS CTR Cart Image files (CCI, ".cci", ".3ds") to the CTR Importable Archive (CIA) format. 
	>  Used to convert the .cci file to .cia without applying patches or modifications, it requires a backup of the 3ds bootrom (boot9.bin) to work

## Pre-Build Patches

Thanks to dimolade, it has been possible to add patches prior to generating the .cci file. These patches likely perform some additional operations on the game itself, not just its permissions (although I haven't tested them in depth).

These patches are as follows:

- 4GB cartridge size
	>  allows much bigger games, in terms of content
	
- Enable direct sdmc
	> "should" be able to allow the use of the SD card without doing a development build
	
- Debug
	> enable debugging in ways that Unity wouldn't allow? I'm not sure.
	
- Force static memory compression
	> perfect for improving performance
    
